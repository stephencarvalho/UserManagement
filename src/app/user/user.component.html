
<mat-toolbar fxLayoutAlign="center center">
    <img src="../../assets/img/Brand-logo-Scratch-Horz.png" alt="scratch-logo" class="logo">
</mat-toolbar>
<mat-divider class="toolbar-divider"></mat-divider>

<div fxLayout="row">
    <div fxFlex="88%" fxFlexOffset="6%">
        <mat-card>
            <div fxLayout="row" fxLayoutGap="20px"  >
                <div>
                    <p class="fb table-header">Users</p> 
                </div>
                <mat-divider class="verticalDivider" [vertical]="true"></mat-divider>
                <div>
                    <p class="f">{{ totalUsers }} Total</p>
                </div>
                <div >
                    <button mat-button (click)="openDialog('Add',{})" mat-flat-button color="primary" class="addButton fb">
                        Add User 
                        <span class="material-symbols-outlined add-icon">add_circle</span>
                    </button>
                </div>
            </div>
            <mat-divider></mat-divider>
            <div class="responsive">
                <table mat-table [dataSource]="dataSource" #mytable>
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef> Id </th>
                        <td mat-cell *matCellDef="let user" class="id"> {{user.id}} </td>
                    </ng-container>
                    <ng-container matColumnDef="user">
                        <th mat-header-cell *matHeaderCellDef> User </th>
                        <td mat-cell *matCellDef="let user">
                            <div fxLayout="row" fxLayoutGap="10px">
                                <div>
                                    <img [src]='user.img' class="profile-img" alt="">
                                </div>
                                <div fxLayout="column">
                                    <div>
                                        {{user.firstName}} {{user.lastName}}
                                    </div>
                                    <div class="email">
                                        {{user.email}} 
                                    </div>
                                </div>
                            </div>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="role">
                        <th mat-header-cell *matHeaderCellDef> Role </th>
                        <td mat-cell *matCellDef="let user"> {{user.role | titlecase}} </td>
                    </ng-container>
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef> Status </th>
                        <td mat-cell *matCellDef="let user"> {{user.status | titlecase}} </td>
                    </ng-container>
                    <ng-container matColumnDef="edit-delete">
                        <th mat-header-cell *matHeaderCellDef>  </th>
                        <td mat-cell *matCellDef="let user"> 
                            <div fxLayoutGap="40px" fxLayout="row">
                                <div>
                                    <a (click)="openDialog('Update',user)" class="update">
                                        <span class="material-symbols-outlined action-icon">update</span>
                                        Update
                                    </a>
                                </div>
                                <div>
                                    <a (click)="openDialog('Delete',user)" class="delete">
                                        <span class="material-symbols-outlined action-icon">delete</span>
                                        Delete
                                    </a>
                                </div>
                            </div>
                        </td>
                    </ng-container>
                    
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let userrow; columns: displayedColumns;"></tr>
                </table>
            </div>
        </mat-card>
    </div>
</div>